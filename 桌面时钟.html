<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>桌面时钟</title>
</head>
<body>
	<canvas id="canvas" style="width:900px;height:450">
		
	</canvas>
	<script type="text/javascript">
	window.onload = function(){
		setInterval(function(){
		var canvas = document.getElementById('canvas');
		var context = canvas.getContext('2d');
		var radgrad = context.createRadialGradient(0,0,60,0,0,150);
		radgrad.addColorStop(0,'#a7d30c');
		radgrad.addColorStop(0.5,'#019f62');
		radgrad.addColorStop(1,'rgba(1,159,98,0)');
			
			context.save();
			context.clearRect(0,0,300,150);
			context.translate(150,75);
			context.scale(0.5,0.5);//缩放0.4
			context.rotate(-Math.PI / 2);
			context.strokeStyle = 'black';
			context.fillStyle = radgrad;//？
			context.lineWidth = 8;
			context.lineCap = 'round';
			context.fill();
			
			context.save();
			for(var i = 0; i < 12; i++){
				context.beginPath();
				context.rotate(Math.PI / 6);
				context.moveTo(100,0);
				context.lineTo(120,0);
				context.stroke();
				}
			context.restore();

				
			context.save();
			context.lineWidth = 5;
			for(i = 0; i < 60; i++){
				if(i % 5 != 0){
					context.beginPath();
					context.moveTo(117,0);
					context.lineTo(120,0);
					context.stroke();
				}
				context.rotate(Math.PI / 30);
			}
			context.restore();
		
			
			
			var now = new Date();
			var sec = now.getSeconds();
			var min = now.getMinutes();
			var hours = now.getHours();
			hours = hours >= 12 ? hours - 12 : hours;

			context.save();
			context.rotate(hours * (Math.PI / 6) + min * (Math.PI / 360) + sec * (Math.PI / 21600));
			context.lineWidth = 14;
			context.beginPath();
			context.moveTo(-20,0);
			context.lineTo(80,0);
			context.stroke();
			context.restore();

			context.save();
			context.rotate((Math.PI / 30) * min + (Math.PI / 1800) * sec);
			context.lineWidth = 10;
			context.beginPath();
			context.moveTo(-28,0);
			context.lineTo(112,0);
			context.stroke();
			context.restore();

			context.save();
			context.rotate(sec * (Math.PI / 30));
			context.strokeStyle = '#d40000';
			//context.fillStyle = '#d40000';
			context.lineWidth = 6;
			context.beginPath();
			context.moveTo(-30,0);
			context.lineTo(83,0);
			context.stroke();
			context.restore();

			context.beginPath();
			context.lineWidth = 4;
			context.strokeStyle = 'black';
			context.fillStyle = 'pink';
			context.arc(0,0,142,0,Math.PI * 2,true);
			context.stroke();

			context.restore();
		},1000);
	}
	</script>
</body>
</html>